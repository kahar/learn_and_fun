implementation according to https://spring.io/guides/gs/gateway/